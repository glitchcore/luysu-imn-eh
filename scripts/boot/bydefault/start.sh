#!/bin/bash

trap ctrl_c INT

function ctrl_c() {
    echo "go away by default"

    kill $http_server

    exit 0
}

python3 -m http.server --directory /boot/bydefault/web/ & http_server=$!
# python3 -u travel.py
chromium --enable-logging=stderr --start-fullscreen  --noerrdialogs --disable-translate --no-first-run --disable-infobars --window-position=0,0 --window-size=1920,1100 http://localhost:8000/?targets=%5B%5B%5B39%2C104%5D%2C%5B30%2C900%5D%2C%5B838%2C115%5D%2C%5B818%2C891%5D%5D%2C%5B%5B527%2C564%5D%2C%5B525%2C685%5D%2C%5B627%2C564%5D%2C%5B625%2C680%5D%5D%2C%5B%5B312%2C139%5D%2C%5B306%2C390.984375%5D%2C%5B670%2C143%5D%2C%5B662%2C390%5D%5D%2C%5B%5B101%2C446%5D%2C%5B100%2C571%5D%2C%5B243%2C445%5D%2C%5B240%2C569%5D%5D%2C%5B%5B132%2C684%5D%2C%5B132%2C796%5D%2C%5B385%2C679%5D%2C%5B382%2C793%5D%5D%2C%5B%5B673%2C449%5D%2C%5B671%2C623%5D%2C%5B797%2C448%5D%2C%5B792%2C622%5D%5D%2C%5B%5B705%2C188%5D%2C%5B702%2C320%5D%2C%5B828%2C191%5D%2C%5B822%2C319%5D%5D%2C%5B%5B81%2C207%5D%2C%5B82%2C331%5D%2C%5B264%2C206%5D%2C%5B261%2C335%5D%5D%2C%5B%5B310%2C465%5D%2C%5B310%2C589%5D%2C%5B492%2C467%5D%2C%5B488%2C589%5D%5D%2C%5B%5B1176%2C116%5D%2C%5B1162%2C892%5D%2C%5B1892%2C127%5D%2C%5B1870%2C864%5D%5D%2C%5B%5B1489%2C703%5D%2C%5B1485%2C791%5D%2C%5B1568%2C700%5D%2C%5B1577%2C790%5D%5D%2C%5B%5B1337%2C629%5D%2C%5B1336%2C722%5D%2C%5B1407%2C625%5D%2C%5B1409%2C720%5D%5D%2C%5B%5B1651%2C558%5D%2C%5B1663%2C634%5D%2C%5B1745%2C562%5D%2C%5B1746%2C630%5D%5D%2C%5B%5B1544%2C487%5D%2C%5B1545%2C590%5D%2C%5B1620%2C491%5D%2C%5B1632%2C585%5D%5D%2C%5B%5B1354%2C438%5D%2C%5B1356%2C509%5D%2C%5B1419%2C437%5D%2C%5B1417%2C509%5D%5D%2C%5B%5B1665%2C223%5D%2C%5B1670%2C333%5D%2C%5B1784%2C218%5D%2C%5B1778%2C324%5D%5D%5D