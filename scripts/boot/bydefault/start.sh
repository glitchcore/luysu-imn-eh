#!/bin/bash

trap ctrl_c INT

function ctrl_c() {
    echo "go away by default"

    kill $http_server

    exit 0
}

python3 -m http.server --directory /boot/bydefault/web/ & http_server=$!
# python3 -u travel.py
chromium --enable-logging=stderr --start-fullscreen  --noerrdialogs --disable-translate --no-first-run --disable-infobars --window-position=0,0 --window-size=1920,1100 http://localhost:8000/?targets=%5B%5B%5B39%2C104%5D%2C%5B30%2C900%5D%2C%5B838%2C115%5D%2C%5B818%2C891%5D%5D%2C%5B%5B529%2C565%5D%2C%5B527%2C684%5D%2C%5B624%2C564%5D%2C%5B622%2C683%5D%5D%2C%5B%5B312%2C139%5D%2C%5B308%2C391.984375%5D%2C%5B667%2C137%5D%2C%5B664%2C385%5D%5D%2C%5B%5B99%2C445%5D%2C%5B95%2C570%5D%2C%5B243%2C445%5D%2C%5B243%2C571%5D%5D%2C%5B%5B135%2C687%5D%2C%5B132%2C768%5D%2C%5B388%2C676%5D%2C%5B388%2C759%5D%5D%2C%5B%5B673%2C449%5D%2C%5B670%2C623%5D%2C%5B800%2C449%5D%2C%5B797%2C622%5D%5D%2C%5B%5B701%2C190%5D%2C%5B696%2C282%5D%2C%5B828%2C191%5D%2C%5B823%2C285%5D%5D%2C%5B%5B81%2C207%5D%2C%5B82%2C335%5D%2C%5B264%2C206%5D%2C%5B262%2C331%5D%5D%2C%5B%5B310%2C465%5D%2C%5B310%2C584%5D%2C%5B490%2C466%5D%2C%5B485%2C585%5D%5D%2C%5B%5B1176%2C116%5D%2C%5B1162%2C892%5D%2C%5B1892%2C127%5D%2C%5B1870%2C864%5D%5D%2C%5B%5B1490%2C693%5D%2C%5B1493%2C817%5D%2C%5B1601%2C688%5D%2C%5B1601%2C812%5D%5D%2C%5B%5B1323%2C624%5D%2C%5B1322%2C740%5D%2C%5B1434%2C622%5D%2C%5B1432%2C737%5D%5D%2C%5B%5B1651%2C558%5D%2C%5B1650%2C642%5D%2C%5B1751%2C555%5D%2C%5B1753%2C638%5D%5D%2C%5B%5B1560%2C470%5D%2C%5B1558%2C551%5D%2C%5B1658%2C467%5D%2C%5B1658%2C550%5D%5D%2C%5B%5B1354%2C438%5D%2C%5B1354%2C510%5D%2C%5B1419%2C437%5D%2C%5B1417%2C509%5D%5D%2C%5B%5B1648%2C195%5D%2C%5B1644%2C307%5D%2C%5B1769%2C195%5D%2C%5B1766%2C306%5D%5D%5D